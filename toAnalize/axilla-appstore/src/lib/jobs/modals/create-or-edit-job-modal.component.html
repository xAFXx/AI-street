<div bsModal
     tabindex="-1"
     role="dialog"
     aria-labelledby="myLargeModalLabel"
     aria-hidden="true"
     [config]="{backdrop: 'static'}">

    <div class="modal-dialog modal-lg m-0 create-job-modal w-80">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">
                    <span translation="Axilla.App.AppStore.JobForm.CreateJob" source="AxillaAppBase"></span>
                </h3>
                <button type="button" class="close" [attr.aria-label]="l('Close')" (click)="close()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="jobForm">
                    <div class="row">
                        <div class="col-12">
                            <div class="form-group">
                                <label for="workflowName">
                                    <span translation="Axilla.App.AppStore.JobForm.Processor" source="AxillaAppBase"></span>
                                </label>
                                <p-dropdown [options]="ddProcessors"
                                            [style]="{'width':'100%', 'min-width':'100%'}"
                                            formControlName="workflowName"></p-dropdown>
                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-group">
                                <label for="processorExecutionDefinition">
                                    <span translation="Axilla.App.AppStore.JobForm.ProcessorExecutionDefinition" source="AxillaAppBase"></span>
                                </label>
                                <p-dropdown [options]="ddProcessorExecutionDefinition"
                                            [style]="{'width':'100%', 'min-width':'100%'}"
                                            formControlName="processorExecutionDefinition"></p-dropdown>
                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-group">
                                <label for="jobName">
                                    <span translation="Axilla.App.AppStore.JobForm.JobName" source="AxillaAppBase"></span>
                                </label>
                                <input name="jobName"
                                       formControlName="jobName"
                                       class="form-control kt-input"
                                       placeholder="{{ 'Axilla.App.AppStore.JobForm.JobNamePlaceholder' | localize }}"
                                       type="text" />

                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-group">
                                <label for="channelId">
                                    <span translation="Axilla.App.AppStore.JobForm.ChannelId" source="AxillaAppBase"></span>
                                </label>
                                <p-dropdown [options]="ddChannelIds"
                                            [style]="{'width':'100%', 'min-width':'100%'}"
                                            formControlName="channelId"></p-dropdown>

                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-group">
                                <label for="params">
                                    <span translation="Axilla.App.AppStore.JobForm.Params" source="AxillaAppBase"></span>
                                </label>
                                <textarea name="params"
                                          style="min-height: 200px"
                                          formControlName="params"
                                          class="form-control kt-input"
                                          placeholder="{{'Axilla.App.AppStore.JobForm.ParamsPlaceholder'| localize}}"></textarea>

                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-group">
                                <label for="startImmediately">
                                    <span translation="Axilla.App.AppStore.JobForm.StartImmediately" source="AxillaAppBase"></span>
                                </label>
                                <input name="startImmediately"
                                       style="width:24px;height:24px"
                                       formControlName="startImmediately"
                                       class="form-control kt-input"
                                       type="checkbox" />
                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-group ax-calendar-container">
                                <label for="startTime" *ngIf="!isDate">
                                  {{"Axilla.App.AppStore.JobForm.Cron" | localize}}
                                </label>
                                <label for="startTime" *ngIf="isDate">
                                    {{"Axilla.App.AppStore.JobForm.Date" | localize}}
                                </label>
                                <input formControlName="isDate"
                                       style="width:24px;height:24px"
                                       class="form-control kt-input"
                                       type="checkbox" />

                                <ng-container *ngIf="isDate; else cron">
                                    <p-calendar name="startTime"
                                                formControlName="startTime"
                                                [inputStyleClass]="'form-control kt-input'"
                                                hourFormat="24"
                                                placeholder="{{'Axilla.App.AppStore.JobForm.DatePlaceholder' | localize}}"
                                                showTime="true"></p-calendar>
                                </ng-container>
                                <ng-template #cron>
                                    <input name="cron"
                                           formControlName="cron"
                                           class="form-control kt-input"
                                           [disabled]="!isDate"
                                           placeholder="{{'Axilla.App.AppStore.JobForm.CronPlaceholder' | localize}}"
                                           type="text" />

                                </ng-template>
                            </div>
                        </div>

                        <div class="col-12">
                            <div class="form-group">
                                <label for="isDayly">
                                    <span translation="Axilla.App.AppStore.JobForm.IsDaily" source="AxillaAppBase"></span>
                                </label>
                                <input name="isDayly"
                                       style="width:24px;height:24px"
                                       formControlName="isDayly"
                                       class="form-control kt-input"
                                       type="checkbox" />
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-dark" (click)="close()">
                    {{"Cancel" | localize}}
                </button>
                <button type="button"
                        (click)="onCreateJob()"
                        class="btn btn-success">
                    <i class="fa fa-save"></i>
                    <span translation="Save">{{"Save" | localize}}</span>
                </button>
                <button type="button"
                        (click)="onCreateJobAndClose()"
                        class="btn btn-success">
                    <i class="fa fa-save"></i>
                    <span translation="SaveAndClose">{{"SaveAndClose" | localize}}</span>
                </button>
            </div>
        </div>
    </div>
</div>
