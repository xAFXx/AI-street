<div class="h-full flex flex-column surface-card border-right-1 surface-border">
    <div class="flex align-items-center justify-content-center pt-4 pb-2 px-3">
        <span class="text-2xl font-bold text-primary">APPRX True North</span>
    </div>
    <div class="flex-grow-1 overflow-y-auto">
        <p-menu [model]="items" styleClass="w-full border-none opacity-90"></p-menu>
    </div>
    <div class="p-3 mt-auto border-top-1 surface-border">
        <!-- Clear Data Button (Admin only, for testing) -->
        <div class="mb-2" *ngIf="currentUser?.role === 'admin'">
            <button pButton label="Clear Data" icon="pi pi-trash"
                class="w-full p-button-outlined p-button-danger p-button-sm" (click)="clearAllData()"
                pTooltip="Clear localStorage and reload (for testing)">
            </button>
        </div>
        <!-- User Info -->
        <div class="flex align-items-center gap-2 p-2 border-round surface-100 mb-2">
            <p-avatar [label]="currentUser?.name?.charAt(0)?.toUpperCase() || 'U'" shape="circle"
                [styleClass]="currentUser?.role === 'admin' ? 'bg-green-500 text-white' : 'bg-primary text-white'">
            </p-avatar>
            <div class="flex flex-column flex-grow-1">
                <span class="font-bold">{{ currentUser?.name || 'User' }}</span>
                <span class="text-xs text-500">{{ currentUser?.email }}</span>
            </div>
            <p-tag [value]="getRoleLabel()" [severity]="currentUser?.role === 'admin' ? 'success' : 'info'"
                styleClass="text-xs">
            </p-tag>
        </div>
        <!-- Logout Button -->
        <button pButton label="Logout" icon="pi pi-sign-out"
            class="w-full p-button-outlined p-button-secondary p-button-sm" (click)="logout()">
        </button>
    </div>
</div>